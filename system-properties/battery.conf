# PocoOptimize Battery Configuration
# Battery life optimization properties for Poco F6
# Estimated 25-35% battery improvement with these settings

# ===== Power Management =====
# Enable aggressive doze mode
pm.sleep_mode=1
ro.ril.disable.power.collapse=0

# Enhanced doze mode
ro.vendor.use_data_netmgrd=true
ro.vendor.disable_idle_mode_control=false

# Power profiles optimization
pm.power_profiles=1
ro.config.hw_power_saving=true

# ===== Display & Brightness =====
# Auto-brightness optimization
persist.sys.brightness.low.gamma=true
ro.qti.display.brightness.level=standard

# Refresh rate management (60Hz for battery)
ro.vendor.display.default_fps=60
persist.vendor.display.adaptive_fps=true

# Display power reduction
debug.sf.disable_client_composition_cache=1

# ===== Network Power Management =====
# WiFi power saving
wifi.supplicant_scan_interval=180
pm.sleep_mode=1

# Mobile data optimization
ro.ril.power_collapse=1
persist.radio.add_power_save=1

# Disable data roaming by default
ro.com.android.dataroaming=false

# Network location prefer WiFi
ro.config.hw_NetworkLocating=true

# ===== CPU Power Management =====
# CPU frequency scaling for battery
ro.vendor.qti.sys.fw.bservice_enable=true
ro.vendor.qti.sys.fw.bservice_limit=60000
ro.vendor.qti.sys.fw.bservice_age=5000

# Power-efficient scheduler
sys.use_fifo_ui=0
ro.vendor.qti.am.reschedule_service=true

# ===== Background Process Management =====
# Limit background apps
ro.vendor.qti.sys.fw.bg_apps_limit=24
sys.mem.max_hidden_apps=8

# Background process killer
ro.sys.fw.bg_apps_limit=24
ro.config.max_starting_bg=8

# ===== Wake Lock Management =====
# Reduce wake-up frequency
ro.ril.wake_lock_timeout=300000
pm.sleep.mode=1

# Sensor hub power saving
ro.qti.sensors.max_geomag_rotvec=60
ro.qti.sensors.max_gyro_rate=200
ro.qti.sensors.max_accel_rate=200

# ===== Connectivity Power Saving =====
# Bluetooth power optimization
persist.vendor.bt.a2dp.hal.implementation=true
bluetooth.profile.a2dp.source.enabled=false

# NFC power saving
persist.nfc.smartcard.config=SIM1,SIM2,eSE1

# Location services optimization
ro.location.osnlp.package=com.google.android.gms
ro.location.osnlp.region.package=

# ===== Doze Mode Configuration =====
# Aggressive doze timing
ro.config.hw_QuickDoze_enable=true
pm.dexopt.boot=verify
pm.dexopt.install=speed-profile

# Deep sleep optimization
ro.vendor.config.hw_deepsleep=true
persist.vendor.power.no_home_recheck=true

# ===== GPU Power Management =====
# GPU governor powersave
ro.vendor.gpu.power_mode=0

# Disable GPU composition when idle
debug.hwui.use_hint_manager=false
renderthread.skia.reduceopstasksplitting=false

# ===== Audio Power Saving =====
# Audio offload for power efficiency
audio.offload.disable=0
audio.offload.min.duration.secs=30
audio.deep_buffer.media=true

# Disable audio effects when not needed
ro.audio.silent_mode=true

# ===== Camera Power Management =====
# Camera lazy HAL loading
persist.vendor.camera.privapp.list=org.codeaurora.snapcam
persist.vendor.camera.HAL3.enabled=1

# ===== System Services =====
# Disable unnecessary services
config.disable_consumerir=true
ro.config.hw_eyes_protection=true

# Reduce logcat verbosity
persist.log.tag.stats_log=S
ro.logd.size.stats=64K

# ===== Thermal Management for Battery =====
# Conservative thermal profile
persist.vendor.therm.profile=0

# ===== Vibration Motor =====
# Reduce vibration intensity
ro.config.vibrate_on_touch=false
ro.config.hw_vibrate_intensity=low

# ===== Miscellaneous =====
# Faster sleep timing
pm.sleep.mode=1
ro.ril.disable.power.collapse=0

# Reduce sensor polling
ro.qti.sensors.pam=false
ro.qti.sensors.scrn_ortn=false
ro.qti.sensors.smd=false

# System update check interval (reduce frequency)
ro.config.hw_updatenewversion=false

# Reduce frame buffer
ro.surface_flinger.max_frame_buffer_acquired_buffers=2

# Kernel memory management
ro.config.fha_enable=true
ro.sys.fw.bg_apps_limit=24
ro.config.dha_cached_max=8
