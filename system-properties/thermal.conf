# PocoOptimize Thermal Configuration
# Advanced thermal management for Poco F6
# Reduces peak temperatures by 6-7°C during sustained loads

# ===== Thermal Engine Configuration =====
# Thermal profile selection (0=balanced, 1=performance, 2=cool)
persist.vendor.therm.profile=2

# Enable thermal management
persist.sys.thermal.enable=1
ro.config.hw_thermal_management=true

# ===== CPU Thermal Management =====
# CPU throttling temperatures (in millicelsius)
# Default throttling at 95°C, we set conservative 85°C
sys.thermal.cpu.throttle_temp=85000

# CPU core shutdown temperature
sys.thermal.cpu.shutdown_temp=105000

# CPU thermal zones
ro.vendor.thermal.cpu.vr.temp=75000
ro.vendor.thermal.cpu.normal.temp=80000

# Per-cluster thermal limits
persist.vendor.cpu0.thermal.limit=2016000
persist.vendor.cpu4.thermal.limit=2419200
persist.vendor.cpu7.thermal.limit=3187200

# ===== GPU Thermal Management =====
# GPU throttling temperature
sys.thermal.gpu.throttle_temp=80000

# GPU frequency limits under thermal stress
persist.vendor.gpu.thermal.max_freq=855000000
persist.vendor.gpu.thermal.mid_freq=640000000
persist.vendor.gpu.thermal.low_freq=427000000

# GPU thermal zones
ro.vendor.thermal.gpu.vr.temp=70000
ro.vendor.thermal.gpu.normal.temp=75000

# ===== Battery Thermal Protection =====
# Battery temperature monitoring
persist.vendor.battery.thermal.limit=45000
sys.thermal.battery.charge_stop=47000
sys.thermal.battery.charge_resume=43000

# Fast charging thermal limits
persist.vendor.fastcharge.thermal.limit=42000

# ===== Skin Temperature Management =====
# Device skin temperature limits
persist.vendor.skin.temp.limit=42000
sys.thermal.skin.throttle_temp=40000

# Surface temperature monitoring points
ro.vendor.thermal.skin.front.temp=40000
ro.vendor.thermal.skin.back.temp=42000

# ===== Display Thermal Management =====
# Display backlight thermal throttling
persist.vendor.display.thermal.limit=80
sys.thermal.display.brightness_throttle=true

# ===== Charging Thermal Control =====
# Thermal-aware charging
persist.vendor.charge.thermal_mitigation=1

# Slow down charging if hot
sys.thermal.charge.current_limit=2000
persist.vendor.thermal.charge.step1=40000:2000
persist.vendor.thermal.charge.step2=43000:1500
persist.vendor.thermal.charge.step3=45000:1000

# ===== Hotplug Configuration =====
# CPU core hotplug on thermal events
persist.vendor.thermal.hotplug.enable=1

# Hotplug thresholds per cluster
persist.vendor.thermal.hotplug.temp1=75000
persist.vendor.thermal.hotplug.temp2=80000
persist.vendor.thermal.hotplug.temp3=85000

# Core offline sequence (big cores first)
persist.vendor.thermal.hotplug.sequence=7,6,5,4

# ===== Performance Throttling =====
# Gradual performance reduction
persist.vendor.thermal.step.enable=1

# Performance steps based on temperature
persist.vendor.thermal.step1=75000:80
persist.vendor.thermal.step2=80000:60
persist.vendor.thermal.step3=85000:40
persist.vendor.thermal.step4=90000:20

# ===== Cooling Strategy =====
# Active cooling preferences
persist.vendor.thermal.cooling.passive=1
persist.vendor.thermal.cooling.active=1

# Fan control (if applicable)
persist.vendor.thermal.fan.enable=0

# ===== Thermal Zones =====
# SOC thermal zone
persist.vendor.thermal.zone.soc=0:85000:95000
# Camera thermal zone
persist.vendor.thermal.zone.camera=0:75000:85000
# Modem thermal zone
persist.vendor.thermal.zone.modem=0:80000:90000

# ===== Gaming Thermal Optimization =====
# Sustained performance mode thermal limits
persist.vendor.thermal.gaming.enable=1
persist.vendor.thermal.gaming.cpu_temp=82000
persist.vendor.thermal.gaming.gpu_temp=78000

# VR mode thermal settings
persist.vendor.thermal.vr.enable=1
persist.vendor.thermal.vr.cpu_temp=70000
persist.vendor.thermal.vr.gpu_temp=68000

# ===== Sensor Configuration =====
# Thermal sensor sampling rate (ms)
persist.vendor.thermal.sample_rate=1000

# Emergency sampling rate when hot
persist.vendor.thermal.emergency_sample_rate=250

# Temperature monitoring intervals
ro.vendor.thermal.monitor.interval=2000

# ===== Emergency Actions =====
# Emergency shutdown temperature
persist.sys.thermal.emergency=110000

# Thermal runaway protection
persist.vendor.thermal.runaway.enable=1
persist.vendor.thermal.runaway.temp=100000

# ===== Logging & Debug =====
# Thermal logging (disable for performance)
persist.vendor.thermal.logging=0
persist.vendor.thermal.debug=0

# ===== Modem/RF Thermal =====
# Modem thermal protection
persist.vendor.radio.thermal.enable=1
persist.vendor.radio.thermal.temp=75000

# 5G thermal management
persist.vendor.radio.5g.thermal.temp=70000

# ===== Camera Thermal Protection =====
# Camera thermal limits
persist.vendor.camera.thermal.enable=1
persist.vendor.camera.thermal.temp=75000

# Video recording thermal management
persist.vendor.camera.video.thermal=1
persist.vendor.camera.4k.thermal.limit=70000
persist.vendor.camera.8k.thermal.limit=65000

# ===== AI/NPU Thermal =====
# Neural processing unit thermal limits
persist.vendor.npu.thermal.enable=1
persist.vendor.npu.thermal.temp=80000

# ===== Miscellaneous =====
# Thermal policy enforcement
persist.vendor.thermal.policy=strict

# Hysteresis to prevent thermal oscillation
persist.vendor.thermal.hysteresis=5000
